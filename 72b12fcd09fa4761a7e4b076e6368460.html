<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🦜&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>0010 设计模式之创建型模式&nbsp;|&nbsp;李正的自留地</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="0010 设计模式之创建型模式">
  
    <meta name="description" content="介绍和实践了工程中非常常用的几种创建型设计模式。">
    <meta property="og:description" content="介绍和实践了工程中非常常用的几种创建型设计模式。">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;💒&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🦜&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="e48d9ceebf4c4de2b657c3a3d1d308f4.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;☀️&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>工具</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🎏&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>关于我</span>
        </div>
      </a>
    
  
</nav>
  <header class="Header">
    
      <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/met_frederic_edwin_church_1871.jpg">
      </div>
    
    <div class="Header__Spacer ">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;💒&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">0010 设计模式之创建型模式</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Sat, May 28, 2022</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--gray">
            <a href="tag/JAVA.html">JAVA</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--blue">
            <a href="tag/DP.html">DP</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--gray">
            <a href="tag/设计模式.html">设计模式</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/72b12fcd09fa4761a7e4b076e6368460" class="PageRoot"><div id="https://www.notion.so/7bdcbb4fe00c40dab33b1fa66a601e7d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/db6f26b3b3764047baf78248af94bddd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">创建型模式是对类的实例化的抽象，对类的创建和使用分离。主要包括以下6种。</span></span></p></div><div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div><h2 id="https://www.notion.so/ee605ca5f981418b972b763a210b267e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/ee605ca5f981418b972b763a210b267e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">1、工厂方法模式</mark></span></span></h2><h3 id="https://www.notion.so/49f6993b60774a56a0e7201a84b2e923" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/49f6993b60774a56a0e7201a84b2e923"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.1  定义</span></span></h3><div id="https://www.notion.so/fef62562e4be4cdfb9b63e09016528f2" class="ColorfulBlock ColorfulBlock--BgGray Callout"><div class="Callout__Icon"><div class="Icon">🥝</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">定义：工厂父类负责定义创建产品对象的公共接口，由工厂子类负责生产具体产品对象，即将产品的创建延迟到工厂子类中完成，工厂子类来决定创建哪一种产品。</span></span></p></div><div id="https://www.notion.so/8fe00e155a884c53acf6bb0921cacb43" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">工厂方法模式包含如下角色：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/c7229073922b4f2f97f9f22b8b7ddc27" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Product：抽象产品</span></span></li><li id="https://www.notion.so/d2e1922312b64aa99f3a306a8d6422c5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ConcreteProduct：具体产品</span></span></li><li id="https://www.notion.so/0ebfd21ed7414310b4e0c0c5efbf8d89" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Factory：抽象工厂</span></span></li><li id="https://www.notion.so/41347299a043471f9570e8f0e48b8ac5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ConcreteFactory：具体工厂</span></span></li></ul><div id="https://www.notion.so/ef2d75adf94a4756960eb49000d3bdc5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/30d08b9d9f3a472783964419193484b5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">UML图</strong></span></span></li></ul><div id="https://www.notion.so/0d25c8d800c941779e12fbe1b305d3c7" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F419ba91f-de7e-425f-ba85-e5751e7b3fca%2FFactoryMethod.jpg?width=598&amp;table=block&amp;id=0d25c8d8-00c9-4177-9e12-fbe1b305d3c7"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F419ba91f-de7e-425f-ba85-e5751e7b3fca%2FFactoryMethod.jpg?width=598&amp;table=block&amp;id=0d25c8d8-00c9-4177-9e12-fbe1b305d3c7" style="width:598px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/9211e9ff4f114767878cf8216bbe9e3b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">时序图</strong></span></span></li></ul><div id="https://www.notion.so/8b74b0ea6d2c44c88f94011d2d2f5a48" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F55095892-a941-42df-aaa6-5e2d57d42ef3%2Fseq_FactoryMethod.jpg?width=622&amp;table=block&amp;id=8b74b0ea-6d2c-44c8-8f94-011d2d2f5a48"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F55095892-a941-42df-aaa6-5e2d57d42ef3%2Fseq_FactoryMethod.jpg?width=622&amp;table=block&amp;id=8b74b0ea-6d2c-44c8-8f94-011d2d2f5a48" style="width:622px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/8cc29b7fdf3641c38bcbe4ce71521529" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/1c711237998748c1a415d0144079eaff" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1c711237998748c1a415d0144079eaff"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.2 实践</span></span></h3><blockquote id="https://www.notion.so/866108133aed4cbba905a5de704be0e7" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">实践用例：实现一个日志记录器，支持多种日志记录方式，如文件记录、数据库记录等，且用户可以根据要求动态选择日志记录方式， 现使用工厂方法模式设计该系统。</span></span></blockquote><ul class="BulletedListWrapper"><li id="https://www.notion.so/67042b5533ec415b8099d9b6327d6b89" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">创建一个日志工厂父类</span></span></li></ul><pre id="https://www.notion.so/d263fd48ae794fd79b79b38e92afc619" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">factorymethod</span><span class="token punctuation">;</span>

<span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token class-name">Log</span> <span class="token function">createLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/b3a7ebd012174267a5548c332854743f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/d447b7f0d0894cd6980766c1ed9225ad" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其中，使用抽象的类，以及抽象的方法。现在让我们还需要一个抽象的日志类。</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/9b814702b3cd4c4e9b34bce69b95fb21" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">创建一个抽象的日志类</span></span></li></ul><pre id="https://www.notion.so/0f3b25fc52f7443aa8667333d4dc3756" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">factorymethod</span><span class="token punctuation">;</span>

<span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Log</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writeLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/e80cd5d93cde495f84d380239fc2bf6f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">现在，抽象层的内容已经实现完毕，可以接活了。此时来了一个需求：做一个文件日志记录器，这个工具用来记录文件操作的日志。</span></span></p></div><div id="https://www.notion.so/406d41354f72411fa92c287b16a42773" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">有了抽象层的基础，我们要做的无非就是实现对应的两个的抽象类及其方法：</span></span></p></div><div id="https://www.notion.so/d8e1f8970cad4387872de9d1fab91bbd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">1、实现日志工厂子类</span></span></p></div><pre id="https://www.notion.so/331397372faa4d8d9559b6d70a6bc19d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">factorymethod</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileLogFactory</span> <span class="token keyword">extends</span> <span class="token class-name">LogFactory</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Log</span> <span class="token function">createLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"create File Log Factory"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">FileLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/a2508ee064de4982b1295b36f00d4317" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">2、实现文件日志记录的具体方法</span></span></p></div><pre id="https://www.notion.so/957021332e764a7fa4411c65b93278aa" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">factorymethod</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileLog</span> <span class="token keyword">extends</span> <span class="token class-name">Log</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writeLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"File Log is writing..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/308efe839d7448be99cbde367991152c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">我们来测试一下这个文件日志记录器：</span></span></p></div><pre id="https://www.notion.so/2fb02443fef74858a1b308ee73cc8be6" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">factorymethod</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestEntrance</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFileLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LogFactory</span> logFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileLogFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span> log <span class="token operator">=</span> logFactory<span class="token punctuation">.</span><span class="token function">createLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        log<span class="token punctuation">.</span><span class="token function">writeLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/cc67a4f8928941648bcb2a59c8d639c5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">运行之后打印：</span></span></p></div><blockquote id="https://www.notion.so/243ee65ecf684a06b3caf026161e80f2" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgGray">create File Log Factory
File Log is writing...</mark></span></span></blockquote><div id="https://www.notion.so/e932319c81124457ab4e032363926acd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/a4e22d459ae544a4a82312546e8800a2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">软件工程中，唯一不变的就是变化。现在新的需求来了，我们需要一个数据库日志记录器：专门记录日志操作的的日志。这简直就是个A-ha时刻，因为我们可以如法炮制。</span></span></p></div><div id="https://www.notion.so/593a8d77d3f64d82ad5eb6233ffab07a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">1、实现一个数据库日志工厂子类</span></span></p></div><pre id="https://www.notion.so/a69b01415ae14643ab58f66c7b49fc4b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">factorymethod</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DBLogFactory</span> <span class="token keyword">extends</span> <span class="token class-name">LogFactory</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Log</span> <span class="token function">createLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"create DB Log Factory"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DBLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/1fd27e4d88c640b9938b63fb3b0c9c1e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">2、实现数据库日志记录的具体方法</span></span></p></div><pre id="https://www.notion.so/80f4a12fb3134772a79b183650961850" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">factorymethod</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DBLog</span> <span class="token keyword">extends</span> <span class="token class-name">Log</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writeLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"DB Log is writing..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/82c1a1b2ba034117ab68477bb5074d9d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">测试一下数据库日志记录器：</span></span></p></div><pre id="https://www.notion.so/888f85a10aad404ca8fd0e55b7efe267" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">factorymethod</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestEntrance</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDBLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LogFactory</span> logFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DBLogFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span> log <span class="token operator">=</span> logFactory<span class="token punctuation">.</span><span class="token function">createLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        log<span class="token punctuation">.</span><span class="token function">writeLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/ba595cc49aed4e9fa6f9c7f96623d26a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">运行之后打印：</span></span></p></div><blockquote id="https://www.notion.so/764325022c9f4ce4b3de93179685b5ca" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgGray">create DB Log Factory
DB Log is writing...</mark></span></span></blockquote><h3 id="https://www.notion.so/fedf4773d8e044b5b1e4469382568b3d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/fedf4773d8e044b5b1e4469382568b3d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.3 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">工厂方法模式的优点</strong></span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/9ed455523b6941ad85f974c7fc880fed" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在工厂方法模式中，工厂方法用来创建客户所需要的产品，同时还向客户隐藏了哪种具体产品类将被实例化这一细节，用户只需要关心所需产品对应的工厂，无须关心创建细节，甚至无须知道具体产品类的类名。</span></span></li><li id="https://www.notion.so/e7c9e63ddb8d486585ee0445c794df3f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">基于工厂角色和产品角色的多态性设计是工厂方法模式的关键。它能够使工厂可以自主确定创建何种产品对象，而如何创建这个对象的细节则完全封装在具体工厂内部。工厂方法模式之所以又被称为多态工厂模式，是因为所有的具体工厂类都具有同一抽象父类。</span></span></li><li id="https://www.notion.so/394a0257c77b4b35a25271c17345a637" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">使用工厂方法模式的另一个优点是在系统中加入新产品时，无须修改抽象工厂和抽象产品提供的接口，无须修改客户端，也无须修改其他的具体工厂和具体产品，而只要添加一个具体工厂和具体产品就可以了。这样，系统的可扩展性也就变得非常好，完全符合“开闭原则”。</span></span></li></ul><h3 id="https://www.notion.so/0f4f0617ee9341dcbe75323f2197b7f6" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/0f4f0617ee9341dcbe75323f2197b7f6"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.4 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">工厂方法模式的缺点</strong></span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/f1b8443e346c44cba5b102e48db53afb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在添加新产品时，需要编写新的具体产品类，而且还要提供与之对应的具体工厂类，系统中类的个数将成对增加，在一定程度上增加了系统的复杂度，有更多的类需要编译和运行，会给系统带来一些额外的开销。</span></span></li><li id="https://www.notion.so/5e69064b0093458e9a403cb62c1d07f4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">由于考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度，且在实现时可能需要用到DOM、反射等技术，增加了系统的实现难度。</span></span></li></ul><div id="https://www.notion.so/0f3df4020fba4b21b86aa9a8704071c9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/15847f1356114e3eb79e418f6642dab7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/15847f1356114e3eb79e418f6642dab7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">2、抽象工厂模式</mark></span></span></h2><div id="https://www.notion.so/062d629804614960b0c2d33cbad7cbaf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在工厂方法模式中具体工厂负责生产具体的产品，每一个具体工厂对应一种具体产品，工厂方法也具有唯一性，一般情况下，一个具体工厂中只有一个工厂方法或者一组重载的工厂方法。但是有时候我们需要一个工厂可以提供多个产品对象，而不是单一的产品对象。</span></span></p></div><div id="https://www.notion.so/f0a77687cca24963ab6e8c910ee742db" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/42f2dd5b84544915b27f10cef8b67079" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">什么时候适合使用</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">抽象工厂模式</strong></span><span class="SemanticString">呢？</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/e8aa65addfa44d38b8a884cc749658c3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">当系统所提供的工厂所需生产的具体产品并不是一个简单的对象</strong></span><span class="SemanticString">，而是多个位于不同产品等级结构中属于不同类型的具体产品时需要使用抽象工厂模式。</span></span></li><li id="https://www.notion.so/8db1f5bd6b7e4c1eba56484b5fea2c05" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">抽象工厂模式</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">是所有形式的工厂模式中最为抽象和最具一般性</strong></span><span class="SemanticString">的一种形态。</span></span></li><li id="https://www.notion.so/5d1ac3278c734482b696a391832ee998" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">抽象工厂模式与工厂方法模式最大的区别在于，</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">工厂方法模式针对的是一个产品等级结构，而抽象工厂模式则需要面对多个产品等级结构</strong></span><span class="SemanticString">，一个工厂等级结构可以负责多个不同产品等级结构中的产品对象的创建 。当一个工厂等级结构可以创建出分属于不同产品等级结构的一个产品族中的所有对象时，抽象工厂模式比工厂方法模式更为简单、有效率。</span></span></li></ul><div id="https://www.notion.so/d5fd71119b954048aeb796c7ddd03e51" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/159456723c9f40e6aa1b95b57079d2b0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/159456723c9f40e6aa1b95b57079d2b0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.1 定义</span></span></h3><div id="https://www.notion.so/ec5cd38b0ea84b8ea4d7d5a20efc1c78" class="ColorfulBlock ColorfulBlock--BgGray Callout"><div class="Callout__Icon"><div class="Icon">🥝</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">抽象工厂模式(Abstract Factory Pattern)：提供一个创建一系列相关或相互依赖对象的接口，而无须指定它们具体的类。抽象工厂模式又称为Kit模式，属于对象创建型模式。</span></span></p></div><div id="https://www.notion.so/4afd0abc3e6d4148b0453062d5ec7107" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/dc37a131a146451d9ede118984271e5d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">抽象工厂模式包含如下角色：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/a9fac16b865f41a1baa31d50583335f7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">AbstractFactory：抽象工厂</span></span></li><li id="https://www.notion.so/dff4880d6da74952bab3dda130941b71" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ConcreteFactory：具体工厂</span></span></li><li id="https://www.notion.so/4664e5a619af40f4b625f4b4e1c43e77" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">AbstractProduct：抽象产品</span></span></li><li id="https://www.notion.so/3f0af8516068490982136171e56d76db" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Product：具体产品</span></span></li></ul><div id="https://www.notion.so/59f635a0582c4c09a03cd3fb1519f8f6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/5e3e18d35a18490d9d582b793cfee048" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">UML图</strong></span></span></li></ul><div id="https://www.notion.so/8c0f14fb15294775ae266736d2d82924" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8f989450-782e-4d0f-b182-cb2706a4e1b1%2FAbatractFactory.jpg?width=835&amp;table=block&amp;id=8c0f14fb-1529-4775-ae26-6736d2d82924"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8f989450-782e-4d0f-b182-cb2706a4e1b1%2FAbatractFactory.jpg?width=835&amp;table=block&amp;id=8c0f14fb-1529-4775-ae26-6736d2d82924" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/504e8d2d284f4882a38892ff3f2b7c65" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/1f1a9ba369bb417ba89d6915f435a98b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">时序图</strong></span></span></li></ul><div id="https://www.notion.so/6348b1cfc3314cfeb76203683b3d34a8" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2cf1ef02-c247-440d-9933-c80a9f2b602a%2Fseq_AbatractFactory.jpg?width=937&amp;table=block&amp;id=6348b1cf-c331-4cfe-b762-03683b3d34a8"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2cf1ef02-c247-440d-9933-c80a9f2b602a%2Fseq_AbatractFactory.jpg?width=937&amp;table=block&amp;id=6348b1cf-c331-4cfe-b762-03683b3d34a8" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/1daca5cedc054c86ac474f0a67ea6692" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/328ef10bb05744eea508c74cb2a48a01" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/328ef10bb05744eea508c74cb2a48a01"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.2 实践</span></span></h3><blockquote id="https://www.notion.so/df95eff77e18470385547b66dc300b2e" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">实践用例：用抽象类分别实现：人，餐具、食物。创建一个工厂子类，可以描述世界上的人用什么餐具来吃什么食物。比如：美国人用餐叉吃牛排，中国人用筷子吃面条。</span></span></blockquote><ul class="BulletedListWrapper"><li id="https://www.notion.so/17001fd55e364a94a4b1445553c61365" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">创建一个抽象工厂父类</span></span></li></ul><pre id="https://www.notion.so/f0a1d50670864fbf8267e46869f32203" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory</span><span class="token punctuation">;</span>

<span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token comment">// 人</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">People</span> <span class="token function">createPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 餐具</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Tableware</span> <span class="token function">createTableware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 食物</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Food</span> <span class="token function">createFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/24a91cc76ca44bd68a37cb690658bc87" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其中，人的抽象类：</span></span></p></div><pre id="https://www.notion.so/82bf85c7be454ad8866a6900f99eba2e" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory</span><span class="token punctuation">;</span>
<span class="token comment">/**
*@Desc: 人抽象类
*/</span>
<span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">who</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/4e6741d35dd54279974c208d1143f2d9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">餐具抽象类：</span></span></p></div><pre id="https://www.notion.so/7215275b33ab4ce293f577aec266364c" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory</span><span class="token punctuation">;</span>
<span class="token comment">/**
*@Desc: 餐具抽象类
*/</span>
<span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Tableware</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/36cf3761b16c431ab4452225b17b42bc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">食物抽象类：</span></span></p></div><pre id="https://www.notion.so/a1fd0510f9634d52988600b4ed76d89d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory</span><span class="token punctuation">;</span>
<span class="token comment">/**
*@Desc: 食物抽象类
*/</span>
<span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/206f3eec4a4f4064a9a03e5a9ae3cfa2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">实现一个吃牛排的工厂类</span></span></li></ul><pre id="https://www.notion.so/cf838c8ab83f4c5a8aa04df50599e6a2" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatsteak</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">AbstractFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">Food</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">People</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">Tableware</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EatSteakFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">People</span> <span class="token function">createPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Americans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Tableware</span> <span class="token function">createTableware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Food</span> <span class="token function">createFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Steak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/0bdec173c2604092875305b1999f8f92" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其中，实现对应的抽象类：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/96e7ef99952f4650a60fa04f421ed06a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">人类之美国人</span></span></li></ul><pre id="https://www.notion.so/caaf46ce8d464ce69985877ea6252b3a" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatsteak</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">People</span></span><span class="token punctuation">;</span>
<span class="token comment">/**
 *@Desc: 人-美国人
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Americans</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">who</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Americans"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/615b08273f0c42918667fa567a1ff7f1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">餐具之餐叉</span></span></li></ul><pre id="https://www.notion.so/3bbb18ceaa9a45f98f9c7e2c82e3e7e3" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatsteak</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">Tableware</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
*@Desc: 餐具-餐叉
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Fork</span> <span class="token keyword">extends</span> <span class="token class-name">Tableware</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"use fork to eat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/aba55e990b4448c8a9ac7fc61085b3b8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">食物之牛排</span></span></li></ul><pre id="https://www.notion.so/cc2f9bf433694bd69b77201ea7ff6234" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatsteak</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">Food</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
*@Desc: 食物-牛排
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Steak</span> <span class="token keyword">extends</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"steak."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/9dd3cd0b10f649bb82d2cfc4b18e6c5a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/e02184fa8afb4b9b99f80a61d255e7bb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">我们来测试美国人用餐叉吃牛排，执行测试：</span></span></p></div><pre id="https://www.notion.so/692fe451100a4d0399d407605d6d7c24" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatsteak<span class="token punctuation">.</span></span><span class="token class-name">EatSteakFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestEntrance</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testEatSteak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">AbstractFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EatSteakFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 人</span>
        <span class="token class-name">People</span> people <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 餐具</span>
        <span class="token class-name">Tableware</span> tableware <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createTableware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 食物</span>
        <span class="token class-name">Food</span> food <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        people<span class="token punctuation">.</span><span class="token function">who</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tableware<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        food<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/63f4c29b11f54054b2d4efb8f38639bf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">执行结果</strong></span><span class="SemanticString">：</span></span></p></div><blockquote id="https://www.notion.so/355467db50fc40ca9b00e716965841a1" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgGray">Americans
use fork to eat
steak.</mark></span></span></blockquote><div id="https://www.notion.so/3d67fb5f75e04fa5b28e8e0ced036716" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/5e5eac74836c4c58bf14ad7f244993d7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">现在让我们来实现一下中国人用筷子吃面条。首选分别实现对应的抽象类：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/588bd8f8853c414e8e006a18cf61c8ac" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">实现一个吃面条的工厂子类</span></span></li></ul><pre id="https://www.notion.so/cb39217ce3944b32ad372e9b7a947bf2" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatnoodles</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">AbstractFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">Food</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">People</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">Tableware</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EatNoodlesFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">People</span> <span class="token function">createPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Chinese</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Tableware</span> <span class="token function">createTableware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Chopsticks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Food</span> <span class="token function">createFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Noodles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/26cf9e6c6982483b985c832ae644867b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其中</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/8b74ba30d5c44f848376b1f26d9d019f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">人类之中国人</span></span></li></ul><pre id="https://www.notion.so/a1324a97e743451c916cc39868c18644" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatnoodles</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">People</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Chinese</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">who</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Chinese"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/0cffae6555f34342a30fec7bd4cfe71a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">餐具之筷子</span></span></li></ul><pre id="https://www.notion.so/e4bc23e8e8a946829990ea6477cd3cd4" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatnoodles</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">Tableware</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Chopsticks</span> <span class="token keyword">extends</span> <span class="token class-name">Tableware</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"use chopsticks to eat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/1425e653e1654c29a935d798469f080e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">食物之面条</span></span></li></ul><pre id="https://www.notion.so/8fc290533ee44b1f9412c12224b0e469" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatnoodles</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span></span><span class="token class-name">Food</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Noodles</span> <span class="token keyword">extends</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"noodles"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/cf3053190327448c8c923d9989f4906b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/7186bd4034cc4b5fa50ae2a89f01157b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">我们来测试美国人用餐叉吃牛排，执行测试：</span></span></p></div><pre id="https://www.notion.so/26ebe0d71da64d459c37c186ec227054" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">abstractfactory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatnoodles<span class="token punctuation">.</span></span><span class="token class-name">EatNoodlesFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">abstractfactory<span class="token punctuation">.</span>eatsteak<span class="token punctuation">.</span></span><span class="token class-name">EatSteakFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestEntrance</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testEatNoodles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">AbstractFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EatNoodlesFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 人</span>
        <span class="token class-name">People</span> people <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 餐具</span>
        <span class="token class-name">Tableware</span> tableware <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createTableware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 食物</span>
        <span class="token class-name">Food</span> food <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createFood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        people<span class="token punctuation">.</span><span class="token function">who</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tableware<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        food<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/475985605aba46fa9f4f20389fec5ef4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">执行结果</strong></span><span class="SemanticString">：</span></span></p></div><blockquote id="https://www.notion.so/6fbdc52fb30f49458fdfc2cda44b5693" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgGray">Chinese
use chopsticks to eat
noodles</mark></span></span></blockquote><div id="https://www.notion.so/57839679dbc1460f9407138395251edd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/30582069b493477cb212b76c1ad36f59" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/30582069b493477cb212b76c1ad36f59"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.3 抽象工厂模式的</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">优点</strong></span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/82a7b5f7b001457cb810af22f7a20bd3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">抽象工厂模式隔离了具体类的生成，使得客户并不需要知道什么被创建。由于这种隔离，更换一个具体工厂就变得相对容易。所有的具体工厂都实现了抽象工厂中定义的那些公共接口，因此只需改变具体工厂的实例，就可以在某种程度上改变整个软件系统的行为。另外，应用抽象工厂模式可以实现高内聚低耦合的设计目的，因此抽象工厂模式得到了广泛的应用。</span></span></li><li id="https://www.notion.so/96e31f427bbc47edb010887c38318ff1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">当一个产品族中的多个对象被设计成一起工作时，它能够保证客户端始终只使用同一个产品族中的对象。这对一些需要根据当前环境来决定其行为的软件系统来说，是一种非常实用的设计模式。</span></span></li><li id="https://www.notion.so/012e32563ba04297acd1a8151a2fbc1d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">增加新的具体工厂和产品族很方便，无须修改已有系统，符合“开闭原则”。</span></span></li></ul><h3 id="https://www.notion.so/fd3a14bf14d14c94bcb2ad83bb03b5cd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/fd3a14bf14d14c94bcb2ad83bb03b5cd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">.4 缺点</strong></span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/3b1e15ff940f422987a4a530adbcbe71" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在添加新的产品对象时，难以扩展抽象工厂来生产新种类的产品，这是因为在抽象工厂角色中规定了所有可能被创建的产品集合，要支持新种类的产品就意味着要对该接口进行扩展，而这将涉及到对抽象工厂角色及其所有子类的修改，显然会带来较大的不便。</span></span></li><li id="https://www.notion.so/d2aa9b9b09924cbe87e9e0b0e4cbcb1b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">开闭原则的倾斜性（增加新的工厂和产品族容易，增加新的产品等级结构麻烦）。</span></span></li></ul><div id="https://www.notion.so/ed8f985cdd984a188d513a75d257d088" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/a2afd6f9784b4e339673822baef95ab6" class="ColorfulBlock ColorfulBlock--ColorBlue Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a2afd6f9784b4e339673822baef95ab6"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">、单例模式</mark></span></span></h2><div id="https://www.notion.so/9534650a90b54dd6b3ff230fed30b0bf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">对于系统中的某些类来说，只有一个实例很重要，例如，一个系统中可以存在多个打印任务，但是只能有一个正在工作的任务；一个系统只能有一个窗口管理器或文件系统；一个系统只能有一个计时工具或ID（序号）生成器。</span></span></p></div><div id="https://www.notion.so/929dc2a976234747bbc227b4f1672b1d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如何保证一个类只有一个实例并且这个实例易于被访问呢？</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">定义一个全局变量可以确保对象随时都可以被访问，但不能防止我们实例化多个对象</strong></span><span class="SemanticString">。</span></span></p></div><div id="https://www.notion.so/7c387b05208449be80f2404c164c3d93" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">一个更好的解决办法是</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">让类自身负责保存它的唯一实例</strong></span><span class="SemanticString">。这个类可以保证没有其他实例被创建，并且它可以提供一个访问该实例的方法。这就是单例模式的模式动机。</span></span></p></div><h3 id="https://www.notion.so/44a5d639d43847cfa4d88b1a235b955d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/44a5d639d43847cfa4d88b1a235b955d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.1  定义</span></span></h3><div id="https://www.notion.so/468f20a57c4642a4b3cc9ba449f2f18b" class="ColorfulBlock ColorfulBlock--BgGray Callout"><div class="Callout__Icon"><div class="Icon">🥝</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">单例模式(Singleton Pattern)：单例模式确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，它提供全局访问的方法。</span></span></p></div><div id="https://www.notion.so/2dc85382e89143e7a787d2dc279d7f24" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">单例模式的要点有三个：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/e56996ad08d649d4b40c25eccf800dea" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">一是某个类只能有一个实例；</span></span></li><li id="https://www.notion.so/45538c54e2ae44a3ae6aa3536e501e3b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">二是它必须自行创建这个实例；</span></span></li><li id="https://www.notion.so/2e15c57ee5934950961950a6309f3d56" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">三是它必须自行向整个系统提供这个实例。</span></span></li></ul><div id="https://www.notion.so/162ff73faf7d41a396fd3ddcf0d11fd8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/200f4d8c533b458bae19602e82b11b43" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">UML图</strong></span></span></li></ul><div id="https://www.notion.so/a3cd7a551ce249848538ca3560c188db" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0717820e-d42d-4044-90ad-478da40b801f%2FSingleton.jpg?width=550&amp;table=block&amp;id=a3cd7a55-1ce2-4984-8538-ca3560c188db"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0717820e-d42d-4044-90ad-478da40b801f%2FSingleton.jpg?width=550&amp;table=block&amp;id=a3cd7a55-1ce2-4984-8538-ca3560c188db" style="width:550px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/7b8896760e2342daac43ef37e9dcea96" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">时序图</strong></span></span></li></ul><div id="https://www.notion.so/475aa818348f4c05afefa0038a0a63f7" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7feec790-25f7-4791-9e75-af077509003b%2Fseq_Singleton.jpg?width=440&amp;table=block&amp;id=475aa818-348f-4c05-afef-a0038a0a63f7"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7feec790-25f7-4791-9e75-af077509003b%2Fseq_Singleton.jpg?width=440&amp;table=block&amp;id=475aa818-348f-4c05-afef-a0038a0a63f7" style="width:440px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/59cf293e7df04ed8b5612d091605af49" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/6600d866c9ec4fb295385faefaca994b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">目前单列类的实现，比较推荐的做法有两种：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/f4b412f1d1fc4b398dfd61a0bc7925c7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">双重校验锁方式（效率稍低）</span></span></li></ul><pre id="https://www.notion.so/4b143aeb2bf242dd8a7099f17c88874f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">singleton</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/b574e069b91c47d7b7001ab1de6a3794" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">通过反射实现（效率更高）</span></span></li></ul><pre id="https://www.notion.so/170547f4e1a147f9ae8609e1a6d6493d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">singleton</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Constructor</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonByReflection</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">SingletonByReflection</span> instance<span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> cl <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token class-name">SingletonByReflection</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//获得无参构造</span>
            <span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> con <span class="token operator">=</span> cl<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//设置无参构造是可访问的</span>
            con<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//产生一个实例对象</span>
            instance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SingletonByReflection</span><span class="token punctuation">)</span> con<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonByReflection</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/28b88e201382475ea5e625c961575ea1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">枚举实现单例：</span></span></li></ul><pre id="https://www.notion.so/3ad5d59e7afb4f2786634cb9d4a7619a" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">singleton</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span>  <span class="token class-name">EnumSingleton</span> <span class="token punctuation">{</span>
    <span class="token constant">INSTANCE</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">EnumSingleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">INSTANCE</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/3a722af5d2894d98b9e8ce793b5210ed" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/10e035a16b0e4fbbbccaf7f74388a06e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其他实现方式这里不做展开，在单例模式的实现过程中，需要注意如下三点：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/f2e3d787071f40f9a31dba955e8261b2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">单例类的构造函数为私有；</span></span></li><li id="https://www.notion.so/138220894bd84238b041c1d933706592" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">提供一个自身的静态私有成员变量；</span></span></li><li id="https://www.notion.so/24fd06038d5f463a8d342ef2b2137fcb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">提供一个公有的静态工厂方法。</span></span></li></ul><h3 id="https://www.notion.so/54008e71d6404406a6163930d87a8227" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/54008e71d6404406a6163930d87a8227"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">.2 优点</strong></span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/c10be7514fac40e9a49cf3093552380e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">提供了对唯一实例的受控访问。因为单例类封装了它的唯一实例，所以它可以严格控制客户怎样以及何时访问它，并为设计及开发团队提供了共享的概念。</span></span></li><li id="https://www.notion.so/530b46ff373946eba23f7fe6c301badb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">由于在系统内存中只存在一个对象，因此可以节约系统资源，对于一些需要频繁创建和销毁的对象，单例模式无疑可以提高系统的性能。</span></span></li><li id="https://www.notion.so/fe60da899b5e4d00b40e6082e6d58f15" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">允许可变数目的实例。我们可以基于单例模式进行扩展，使用与单例控制相似的方法来获得指定个数的对象实例。</span></span></li></ul><h3 id="https://www.notion.so/114a56c6d0e44a8ba83914799e58dbdd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/114a56c6d0e44a8ba83914799e58dbdd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">.3 缺点</strong></span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/9033c604e9454a3dbffd5f0ca97977fa" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">由于单例模式中没有抽象层，因此单例类的扩展有很大的困难。</span></span></li><li id="https://www.notion.so/89e2f1afb02e4d81aa43ad30988131e2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">单例类的职责过重，在一定程度上违背了“单一职责原则”。因为单例类既充当了工厂角色，提供了工厂方法，同时又充当了产品角色，包含一些业务方法，将产品的创建和产品的本身的功能融合到一起。</span></span></li><li id="https://www.notion.so/556cbf35df7c4dd5a4e96c78bbfc97ca" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">滥用单例将带来一些负面问题，如为了节省资源将数据库连接池对象设计为单例类，可能会导致共享连接池对象的程序过多而出现连接池溢出；现在很多面向对象语言(如Java、C#)的运行环境都提供了自动垃圾回收的技术，因此，如果实例化的对象长时间不被利用，系统会认为它是垃圾，会自动销毁并回收资源，下次利用时又将重新实例化，这将导致对象状态的丢失。</span></span></li></ul><div id="https://www.notion.so/e17d2c3d9620486bb8de0b101cbd4961" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/132a473678394151aedf9c5cca527d23" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/132a473678394151aedf9c5cca527d23"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">4、简单工厂模式</mark></span></span></h2><h3 id="https://www.notion.so/e9fd5f70643741cbb2b2451d7c49a735" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/e9fd5f70643741cbb2b2451d7c49a735"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.1 定义</span></span></h3><div id="https://www.notion.so/4a5c7f4dca944e9c934fdbf94fdf8620" class="ColorfulBlock ColorfulBlock--BgGray Callout"><div class="Callout__Icon"><div class="Icon">🥝</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">简单工厂模式(Simple Factory Pattern)：又称为静态工厂方法(Static Factory Method)模式，它属于类创建型模式。在简单工厂模式中，</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">可以根据参数的不同返回不同类的实例</strong></span><span class="SemanticString">。简单工厂模式专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。</span></span></p></div><div id="https://www.notion.so/2e53488e4e0249a8acb6125caf46735a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/972e874c6c4a493da7c2d7e63413cc0c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">简单工厂模式包含如下角色：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/7281a63b2b294e1997fbf4c8d436510e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Factory：工厂角色，</strong></span><span class="SemanticString">工厂角色负责实现创建所有实例的内部逻辑</span></span></li><li id="https://www.notion.so/ea09891fd39e4936a6e9d1156e8937a1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Product：抽象产品角色，</strong></span><span class="SemanticString">抽象产品角色是所创建的所有对象的父类，负责描述所有实例所共有的公共接口</span></span></li><li id="https://www.notion.so/96edfff5eb634d0d89639641ac40b0b4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ConcreteProduct：具体产品角色，</strong></span><span class="SemanticString">具体产品角色是创建目标，所有创建的对象都充当这个角色的某个具体类的实例。</span></span></li></ul><div id="https://www.notion.so/a9426a5081be444cb3f08a1f01dba6e0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/12e412fb907840d6bc00cc49f4886da8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">UML图</strong></span></span></li></ul><div id="https://www.notion.so/e1e0416494734ae8b6d725a591dbace9" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd37e2c4a-89cf-4f3c-b7a1-7400b9ea3c1b%2FSimpleFactory.jpg?width=675&amp;table=block&amp;id=e1e04164-9473-4ae8-b6d7-25a591dbace9"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd37e2c4a-89cf-4f3c-b7a1-7400b9ea3c1b%2FSimpleFactory.jpg?width=675&amp;table=block&amp;id=e1e04164-9473-4ae8-b6d7-25a591dbace9" style="width:675px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/6e30d36e5838472f80e0635af954c5a8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/9ff557c0a470482a88f45c6cde915816" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">时序图</strong></span></span></li></ul><div id="https://www.notion.so/19eb58427e9742a2aade1633f34fcb2d" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F818c427a-1a37-469d-96c1-b55bd1029c7e%2Fseq_SimpleFactory.jpg?width=622&amp;table=block&amp;id=19eb5842-7e97-42a2-aade-1633f34fcb2d"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F818c427a-1a37-469d-96c1-b55bd1029c7e%2Fseq_SimpleFactory.jpg?width=622&amp;table=block&amp;id=19eb5842-7e97-42a2-aade-1633f34fcb2d" style="width:622px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/70b3f44702644131a85141a27ac46a07" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/4f7509eee6d84348ba4c7e4ccac64e6e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/4f7509eee6d84348ba4c7e4ccac64e6e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.2 实践</span></span></h3><blockquote id="https://www.notion.so/9f10b964cc984e4f9b767da15b48faac" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">实现案例：模拟点餐场景，后厨根据用户点的食物名称，做对应的食物。</span></span></blockquote><ul class="BulletedListWrapper"><li id="https://www.notion.so/e3fc762cfbf74c9c94a29070b1e6e03d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">编写一个简单工厂类：创建工厂通过传递参数</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">foodName</code></span><span class="SemanticString">来创建不同的食物。</span></span></li></ul><pre id="https://www.notion.so/71bc4e19b73f4e45b12ccebda2fb2d36" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token class-name">Food</span> <span class="token function">createFood</span><span class="token punctuation">(</span><span class="token class-name">String</span> foodName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/97cf394d46de4d49a97d5521d8e7a79f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">创建食物的抽象类</span></span></li></ul><pre id="https://www.notion.so/9fce980915bc42618b978e83f76f408a" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/f2fb0c8e35574beebd60645f583216b9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/0c7617283b004b61ad28d131e5891bec" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">现在厨房今日的菜单上有三个菜可选，分别为：面条，牛肉、米饭。我们分别创建对应的类：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/65018c8a28014bc5a859e6cd4fe2b868" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">面条</span></span></li></ul><pre id="https://www.notion.so/0bfb3292db624ba4b1e3e766402bfda1" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Noodles</span> <span class="token keyword">extends</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is a bowl of noodles."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/69a404f8e6204ebbb5789c3321eaa2c3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">牛肉</span></span></li></ul><pre id="https://www.notion.so/39298014d5eb4e1f9183e2266eb9cb3b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Beef</span> <span class="token keyword">extends</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is a piece of beef."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/997a9dcb5b6f45578f0f59f2e7f47457" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">米饭</span></span></li></ul><pre id="https://www.notion.so/1b08d3f2fe574719be49386cfdf75986" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rice</span> <span class="token keyword">extends</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is a bowl of rice."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/2f52e561478b44dcba4b8e733ad1e3c9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">点餐工具就是一个简单工厂类的实现：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/912bdbaadefc4b2db96c00ed4e040ba2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">实现简单工厂类</span></span></li></ul><pre id="https://www.notion.so/58e9c57791c74388aa626cc909f87a73" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FoodSimpleFactory</span> <span class="token keyword">extends</span> <span class="token class-name">SimpleFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Food</span> <span class="token function">createFood</span><span class="token punctuation">(</span><span class="token class-name">String</span> foodName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FoodEnum</span><span class="token punctuation">.</span><span class="token constant">NOODLES</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>foodName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Noodles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FoodEnum</span><span class="token punctuation">.</span><span class="token constant">RICE</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>foodName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Rice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">FoodEnum</span><span class="token punctuation">.</span><span class="token constant">BEEF</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>foodName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Beef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"不支持的点餐类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/bfe0817eed5449cca2b039b108a2be84" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">菜单类枚举</span></span></li></ul><pre id="https://www.notion.so/c5d9abb14e10473fb6f9c909dcf47233" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">FoodEnum</span> <span class="token punctuation">{</span>
    <span class="token constant">RICE</span><span class="token punctuation">,</span>
    <span class="token constant">NOODLES</span><span class="token punctuation">,</span>
    <span class="token constant">BEEF</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/7629e4c27d3147279d9f0125f705383a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/61ae5812f9b442518bf17faea3b7132f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">我们来测试一下，一个点了面条的场景：</span></span></p></div><pre id="https://www.notion.so/ae1b58122d954557b5fc832d2d311b0c" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestEnctrance</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testNoodles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SimpleFactory</span> simpleFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FoodSimpleFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Food</span> food <span class="token operator">=</span> simpleFactory<span class="token punctuation">.</span><span class="token function">createFood</span><span class="token punctuation">(</span><span class="token class-name">FoodEnum</span><span class="token punctuation">.</span><span class="token constant">NOODLES</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        food<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/5055f3fa39d6471093c5fb25aa315a8c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">执行结果：</strong></span></span></p></div><blockquote id="https://www.notion.so/10d34955bf1e4803809194e1bada0938" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgGray">this is a bowl of noodles.</mark></span></span></blockquote><div id="https://www.notion.so/8b2e2ba958104b2ebc44e05039f3f838" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/1c56a27eb6bc41e9801f6d5055f4dcd7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">点一碗米饭：</span></span></p></div><pre id="https://www.notion.so/e7b2245fc14e4f9faeaac929bbeda9a2" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestEnctrance</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testRice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SimpleFactory</span> simpleFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FoodSimpleFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Food</span> food <span class="token operator">=</span> simpleFactory<span class="token punctuation">.</span><span class="token function">createFood</span><span class="token punctuation">(</span><span class="token class-name">FoodEnum</span><span class="token punctuation">.</span><span class="token constant">RICE</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        food<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/7365fd36a3b04c7983dd0d42852be15b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">执行结果：</strong></span></span></p></div><blockquote id="https://www.notion.so/27b4da34f7b547e3bc95e8eea0870ee0" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgGray">this is a bowl of rice.</mark></span></span></blockquote><div id="https://www.notion.so/ffd8c7f7486e47b792ee8000cc922a2e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"> </span></span></p></div><div id="https://www.notion.so/63b2f8e1032a4c1aa22a08b75f4cc42e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">点一份牛排</span></span></p></div><pre id="https://www.notion.so/d68e8e435f6c47669f63c0cc4718ca3f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">package</span> <span class="token namespace">simplefactory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestEnctrance</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testBeef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SimpleFactory</span> simpleFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FoodSimpleFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Food</span> food <span class="token operator">=</span> simpleFactory<span class="token punctuation">.</span><span class="token function">createFood</span><span class="token punctuation">(</span><span class="token class-name">FoodEnum</span><span class="token punctuation">.</span><span class="token constant">BEEF</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        food<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/683261546eab435697cf01ecbb2d500c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">执行结果：</strong></span></span></p></div><blockquote id="https://www.notion.so/150b307fef3b48bb9fa8f6138849ae11" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedBg SemanticString__Fragment--BgGray">this is a piece of beef.</mark></span></span></blockquote><div id="https://www.notion.so/d729ad9fe31d4902b820317a27157f1d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/9007cfb013e74c0db3ab214915cea085" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9007cfb013e74c0db3ab214915cea085"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.3 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">简单工厂模式的优点</strong></span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/20b16fb2334145cb9900f6c4a7b2ae32" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">工厂类含有必要的判断逻辑，可以决定在什么时候创建哪一个产品类的实例，客户端可以免除直接创建产品对象的责任，而仅仅“消费”产品；简单工厂模式通过这种做法实现了对责任的分割，它提供了专门的工厂类用于创建对象。</span></span></li><li id="https://www.notion.so/2ec6521bc38e42b7b53debb0e5dfcdbb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">客户端无须知道所创建的具体产品类的类名，只需要知道具体产品类所对应的参数即可，对于一些复杂的类名，通过简单工厂模式可以减少使用者的记忆量。</span></span></li><li id="https://www.notion.so/605e8257cc9a4d9d9cd08f8b26c036c0" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">通过引入配置文件，可以在不修改任何客户端代码的情况下更换和增加新的具体产品类，在一定程度上提高了系统的灵活性。</span></span></li></ul><h3 id="https://www.notion.so/4970e7a0480c40638847de3ed9999714" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/4970e7a0480c40638847de3ed9999714"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.4</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"> 简单工厂模式的缺点</strong></span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/8963dc951f7c400683a3c7cd110c8b30" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">由于工厂类集中了所有产品创建逻辑，一旦不能正常工作，整个系统都要受到影响。</span></span></li><li id="https://www.notion.so/c341d3c1948940c5b99eee9cb0feb4a1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">使用简单工厂模式将会增加系统中类的个数，在一定程序上增加了系统的复杂度和理解难度。</span></span></li><li id="https://www.notion.so/ebdaed17b1a34013a5846b9074d4262f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">系统扩展困难，一旦添加新产品就不得不修改工厂逻辑，在产品类型较多时，有可能造成工厂逻辑过于复杂，不利于系统的扩展和维护。</span></span></li><li id="https://www.notion.so/3488dbd257054cf99fb58cbd0ffd8300" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">简单工厂模式由于使用了静态工厂方法，造成工厂角色无法形成基于继承的等级结构。</span></span></li></ul><div id="https://www.notion.so/0a2c56f618bf4ae69fd20eb7e54491e2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/1e54b4cd820c4e7080802bc1ab5dcd5b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1e54b4cd820c4e7080802bc1ab5dcd5b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">5、原型模式</mark></span></span></h2><div id="https://www.notion.so/c57926a0d7c540f68a83f18d330ebfea" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">参考：</span></span></p></div><div id="https://www.notion.so/8e396ec93e0a45deb01a427cdd5002c3" class="Bookmark"><a href="https://www.runoob.com/design-pattern/prototype-pattern.html"><h5 class="Bookmark__Title">原型模式</h5><p class="Bookmark__Desc">原型模式（Prototype Pattern）是用于创建重复的对象，同时又能保证性能。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。 这种模式是实现了一个原型接口，该接口用于创建当前对象的克隆。当直接创建对象的代价比较大时，则采用这种模式。例如，一个对象需要在一个高代价的数据库操作之后被创建。我们可以缓存该对象，在下一个请求时返回它的克隆，在需要的时候更新数据库，以此来减少数据库调用。 意图： 用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。 主要解决： 在运行期建立和删除原型。 何时使用： 1、当一个系统应该独立于它的产品创建，构成和表示时。 2、当要实例化的类是在运行时刻指定时，例如，通过动态装载。 3、为了避免创建一个与产品类层次平行的工厂类层次时。 4、当一个类的实例只能有几个不同状态组合中的一种时。建立相应数目的原型并克隆它们可能比每次用合适的状态手工实例化该类更方便一些。 如何解决： 利用已有的一个原型对象，快速地生成和原型对象一样的实例。 关键代码： 1、实现克隆操作，在 JAVA 实现 Cloneable 接口，重写 clone()，在 .NET 中可以使用 Object 类的 MemberwiseClone() 方法来实现对象的浅拷贝或通过序列化的方式来实现深拷贝。 2、原型模式同样用于隔离类对象的使用者和具体类型（易变类）之间的耦合关系，它同样要求这些&quot;易变类&quot;拥有稳定的接口。 应用实例： 1、细胞分裂。 2、JAVA 中的 Object clone() 方法。 优点： 1、性能提高。 2、逃避构造函数的约束。 缺点： 1、配备克隆方法需要对类的功能进行通盘考虑，这对于全新的类不是很难，但对于已有的类不一定很容易，特别当一个类引用不支持串行化的间接对象，或者引用含有循环结构的时候。 2、必须实现 Cloneable 接口。 使用场景： 1、资源优化场景。 2、类初始化需要消化非常多的资源，这个资源包括数据、硬件资源等。 3、性能和安全要求的场景。 4、通过 new 产生一个对象需要非常繁琐的数据准备或访问权限，则可以使用原型模式。</p><p class="Bookmark__Link">https://www.runoob.com/design-pattern/prototype-pattern.html</p></a></div><div id="https://www.notion.so/c6f79f2d951f4eb2b1bc2d87ee7aa2c3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/9235ead966a24a23986d6421805d74bd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/9235ead966a24a23986d6421805d74bd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">6、建造者模式</mark></span></span></h2><div id="https://www.notion.so/e2516e6c4a00420fbc2e0829d792f4d3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这部分在之前的个人博客中有详细介绍：</span></span></p></div><div id="https://www.notion.so/c37e180c3ea74a7490d5f1a0a289374f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Resource"><a href="3117c990b7694ef2b71c075a8bbcd535.html"><span class="SemanticStringArray"><span class="SemanticString">0006 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">优雅与高效的java编程手记(1-20)</strong></strong></span></span></a></span></span><span class="SemanticString"> </span></span></p></div><div id="https://www.notion.so/24af0704b3b3474ab0b3f61d3abea936" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/555a2aa3adb6480e8951cf7bec8f6a47" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/555a2aa3adb6480e8951cf7bec8f6a47"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">7、文中代码</mark></span></span></h2><div id="https://www.notion.so/ea5012ea393c43abb7e6007861b5e3de" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/gendlee/desgin_patterns_practice">https://github.com/gendlee/desgin_patterns_practice</a></span></span></p></div><div id="https://www.notion.so/0ff3a108a2b24632aab38e514374baf2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/48a64fbdf877465b8d152ed0d8fd9e12" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/67545f478dbf4ffca17e26923124a7e9" class="Divider"></div><h2 id="https://www.notion.so/9ca37d9aebe54987a83ec7d27db87235" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/9ca37d9aebe54987a83ec7d27db87235"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">参考文献</mark></span></span></h2><div id="https://www.notion.so/afa45ba27bec484989bee044e8249d3d" class="Bookmark"><a href="https://design-patterns.readthedocs.io/zh_CN/latest/index.html"><h5 class="Bookmark__Title">图说设计模式 - Graphic Design Patterns</h5><p class="Bookmark__Link">https://design-patterns.readthedocs.io/zh_CN/latest/index.html</p></a></div><div id="https://www.notion.so/d82575b913134303a24596990ff87940" class="Bookmark"><a href="https://www.runoob.com/design-pattern/prototype-pattern.html"><h5 class="Bookmark__Title">原型模式</h5><p class="Bookmark__Desc">原型模式（Prototype Pattern）是用于创建重复的对象，同时又能保证性能。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。 这种模式是实现了一个原型接口，该接口用于创建当前对象的克隆。当直接创建对象的代价比较大时，则采用这种模式。例如，一个对象需要在一个高代价的数据库操作之后被创建。我们可以缓存该对象，在下一个请求时返回它的克隆，在需要的时候更新数据库，以此来减少数据库调用。 意图： 用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。 主要解决： 在运行期建立和删除原型。 何时使用： 1、当一个系统应该独立于它的产品创建，构成和表示时。 2、当要实例化的类是在运行时刻指定时，例如，通过动态装载。 3、为了避免创建一个与产品类层次平行的工厂类层次时。 4、当一个类的实例只能有几个不同状态组合中的一种时。建立相应数目的原型并克隆它们可能比每次用合适的状态手工实例化该类更方便一些。 如何解决： 利用已有的一个原型对象，快速地生成和原型对象一样的实例。 关键代码： 1、实现克隆操作，在 JAVA 实现 Cloneable 接口，重写 clone()，在 .NET 中可以使用 Object 类的 MemberwiseClone() 方法来实现对象的浅拷贝或通过序列化的方式来实现深拷贝。 2、原型模式同样用于隔离类对象的使用者和具体类型（易变类）之间的耦合关系，它同样要求这些&quot;易变类&quot;拥有稳定的接口。 应用实例： 1、细胞分裂。 2、JAVA 中的 Object clone() 方法。 优点： 1、性能提高。 2、逃避构造函数的约束。 缺点： 1、配备克隆方法需要对类的功能进行通盘考虑，这对于全新的类不是很难，但对于已有的类不一定很容易，特别当一个类引用不支持串行化的间接对象，或者引用含有循环结构的时候。 2、必须实现 Cloneable 接口。 使用场景： 1、资源优化场景。 2、类初始化需要消化非常多的资源，这个资源包括数据、硬件资源等。 3、性能和安全要求的场景。 4、通过 new 产生一个对象需要非常繁琐的数据准备或访问权限，则可以使用原型模式。</p><p class="Bookmark__Link">https://www.runoob.com/design-pattern/prototype-pattern.html</p></a></div><div id="https://www.notion.so/f2b54b8b9ecc4deb9c4146a678f7d85d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; 李正的自留地 2024</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>

</body>

</html>